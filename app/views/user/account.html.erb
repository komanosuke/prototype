<main>
<div id="account_edit">
<div class="wrap flex_container_start">
  <div class="menu-trigger tab_sp" href="javascript:void(0);">
	<span class="spnavButton__border"></span>
	<span class="spnavButton__border"></span>
	<span class="spnavButton__border"></span>
</div>
<%= render partial: "shared/aside" %>
  <div id="account_related" class="inner_mid">
    <div class="page_ttl_wrap">
      <div class="page_ttl">
        <h1>アカウント情報</h1>
      </div>
    </div>
    <div class="content">
      <div class="content_frame">
        <div class="account_item account_item_ttl">
          <dt><h2>基本情報の変更</h2></dt>
          <dd>一部の情報はGoogleのサービスと連携されています。<a href="">詳細</a></dd>
        </div>
        <div class="account_form_wrap">
          <div class="prof_img_edit flex_container">
            <div>
              <dt class="form_term">プロフィール画像<span class="any">任意</span></dt>
              <dd class="form_description">アカウントの基本情報を確認・管理・変更することが可能です。<a href="">詳細</a></dd>
            </div>
            <div>
              <label id="upload_box">
                <div id="upload_form">
                  <%= form_for(@user, url:{controller:'user', action:'account'}) do |form| %>
                    <%= form.file_field :image, id:'img_file', accept:'image/*' %>
                    <%= form.submit "写真を追加", id:'add_picture_submit' %>
                  <% end %>
                </div>
              </label>
              <% if @user.image.to_s != "" %>
                <%= image_tag @user.image.to_s, class: "icon", id:"user_image" %>
              <% else %>
                <%= image_tag "/common/icon_owner_default.svg", class: "icon", id:"user_image" %>
              <% end %>
            </div>
          </div>
          <%= form_for(@user, url:{controller:'user', action:'account'}) do |form| %>
            <div class="txt_field">
              <dt class="form_term">ユーザーネーム<span class="req">必須</span></dt>
              <dd class="form_description"><%= form.text_field :name, placeholder:"ユーザーネーム", required: true %></dd>
            </div>
            <div class="txt_field">
              <dt class="form_term">自治体名<span class="req">必須</span></dt>
              <dd class="form_description"><%= form.text_field :municipality, placeholder:"〇〇市", required: true %></dd>
            </div>
            <div class="txt_field">
              <dt class="form_term">所属<span class="req">必須</span></dt>
              <dd class="form_description"><%= form.text_field :division, placeholder:"公園緑地課", required: true %></dd>
            </div>
            <%= form.submit "この内容で変更する", class:"btn btn_g" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="cover"></div>
</main>

<script>
  const user_image = document.getElementById('user_image');
  const upload_box = document.getElementById('upload_box');
  const cover = document.getElementById('cover');

  user_image.addEventListener('click', function() {
	upload_box.style.display = 'block';
	cover.style.display = 'block';
  });
  cover.addEventListener('click', function() {
    upload_box.style.display = 'none';
    cover.style.display = 'none';
  });
  
</script>